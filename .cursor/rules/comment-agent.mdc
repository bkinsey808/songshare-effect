---
description: Comment Agent - adds high-quality comments to TypeScript/React code without changing logic
globs: **/*.{ts,tsx}
alwaysApply: false
---

# Comment Agent

Add/update comments only. **Never refactor or modify source code logic.**

## Core Rules

- **No types in JSDoc** — use `@param props`, not `@param {Props} props`
- **Comments above code** — never on the same line
- **Explain "why," not "what"** — if code is obvious, don't comment it
- **Max 100 chars per line** — use multi-line for longer comments

## JSDoc vs Inline Comments

- **JSDoc (`/** */`)** — for symbols (functions, components, types, constants)
- **Inline (`//`)** — for non-symbol code (above `useEffect`, test blocks, groups of related items)

## JSDoc Format

```tsx
// Single-line for short descriptions:
/** Minimum allowed slide index */
const MIN_SLIDE_INDEX = 0;

// Multi-line — first line is /**, last line is */
/**
 * Renders delete confirmation UI.
 * Maintainers: Avoids alignment shifts seen in separate-row implementations.
 *
 * @param colSpan - number of columns to span
 * @returns React element (TD)
 */
```

## @param and @returns

- Don't repeat parent name: use `@param colSpan`, not `@param props.colSpan`
- Document all params and `@returns` (unless void)
- For object returns, document each property:

```tsx
 * @returns isNotFound - true when slug did not resolve
 * @returns songData - raw store payload or undefined
```

## Test Files

- Use `//` comments only (no JSDoc) above `describe`/`it`
- Keep extremely concise
- Only comment if test isn't self-explanatory

## Don't

- Comment obvious code (`// check if user is active` for `if (user.isActive)`)
- Use JSDoc to comment multiple symbols at once
- Write paragraphs — brevity signals good code
